<div class="flex">
  <q-map-input-search class="flex-item" 
                      (data)="filter($event)"></q-map-input-search>
    <button mat-raised-button (click)="openFilter()">Filter</button>
    <mat-form-field style="margin-top: 15px;">
      <mat-label>Sort by:</mat-label>
      <mat-select [(value)]="selectedSortOption"
                  (selectionChange)="sort($event.value)">
        <mat-option *ngFor="let option of sortList" [value]="option">{{option}}</mat-option>
      </mat-select>
    </mat-form-field>
</div>
<div class="item">
  <mat-chip-list>
    <mat-chip *ngFor="let tag of selectedFilters"
              [selectable]="selectable"
              [removable]="removable"
              (removed)="removeTag(tag)">
              <span class="star" *ngIf="[5,4,3,2,1].includes(+tag) else string">
                <span *ngFor="let i of [].constructor(+tag)"><mat-icon [inline]="true">star</mat-icon></span>
              </span>
              <ng-template #string>{{tag}}</ng-template>
      <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
    </mat-chip>
  </mat-chip-list>
</div>
<div class="item">
  <button mat-raised-button
          (click)="selectMap(-1)"
          matTooltip="Random User Map">Random</button>
</div>

<cdk-virtual-scroll-viewport id="maps"
                             [itemSize]="300"
                             [minBufferPx]="400"
                             [maxBufferPx]="600">
  <q-map-card *cdkVirtualFor="let m of maplist"
              [map]="m"
              [setting]="setting"
              (generate)="selectMap($event)"></q-map-card>
</cdk-virtual-scroll-viewport>
