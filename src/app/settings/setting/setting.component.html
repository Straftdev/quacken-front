<ng-container *ngIf="group[setting.name]"
              [ngSwitch]="setting.type">
  <div *ngSwitchCase="'boat'"
       class="setting boat">
    <mat-select *ngIf="group[setting.name]"
                [(ngModel)]="group[setting.name].value"
                (selectionChange)="save()">
      <mat-select-trigger>
        <img *ngIf="group[setting.name].value !== undefined"
             [src]="'/assets/boats/' + (links[group[setting.name].value] || 'boat'+group[setting.name].value)  + '.png'"
             [title]="setting.titles[group[setting.name].value]">
      </mat-select-trigger>
      <mat-optgroup *ngFor="let g of setting.groups"
                    [label]="g.name">
        <mat-option *ngFor="let o of g.options"
                    [value]="o">
          <img src="/assets/boats/{{links[o] || 'boat'+o}}.png"
               class="boatoption"
               height="25px"
               width="25px">{{setting.titles[o]}}
        </mat-option>
      </mat-optgroup>
    </mat-select>
  </div>

  <mat-form-field *ngSwitchCase="'option'"
                  class="setting">
    <mat-label>{{setting.label}}</mat-label>
    <mat-select [(value)]="group[setting.name].value"
                (selectionChange)="save()"
                [disabled]="setting.admin && !ss.admin">
      <mat-option *ngFor="let option of setting.options; let i = index"
                  [value]="i">{{option}}</mat-option>
    </mat-select>
  </mat-form-field>

  <div *ngSwitchCase="'button'"
       class="setting">
    <button *ngIf="!(setting.admin && !ss.admin)"
            mat-raised-button
            (click)="send()">{{setting.label}}</button>
  </div>

  <div *ngSwitchCase="'slider'"
       class="setting">
    <span class="label">{{setting.label}} ({{group[setting.name].value}})</span>
    <mat-slider [min]="setting.min"
                [max]="setting.max"
                [step]="setting.step"
                [value]="group[setting.name].value"
                [disabled]="setting.admin && !ss.admin"
                (input)="group[setting.name].value=$event.value || 0; save()">
    </mat-slider>
  </div>

  <div *ngSwitchCase="'checkbox'"
       class="setting">
    <mat-checkbox [(ngModel)]="group[setting.name].value"
                  (change)="save()"
                  [disabled]="setting.admin && !ss.admin">
      <span [innerHTML]="setting.label"></span>
    </mat-checkbox>
  </div>

  <mat-form-field *ngSwitchCase="'number'"
                  class="setting">
    <input matInput
           [(ngModel)]="group[setting.name].value"
           (change)="save()"
           placeholder="Max Players"
           type="number"
           [min]="setting.min"
           [max]="setting.max"
           [disabled]="setting.admin && !ss.admin">
  </mat-form-field>

  <div *ngSwitchDefault
       class="setting">
    <q-custom-map [group]="group"
                  (save)="save()"
                  [setting]="setting"
                  [disabled]="setting.admin && !ss.admin">
    </q-custom-map>
  </div>
</ng-container>
