@import "../../../quacken/boats/boat-base.scss";

:host {
  width: 0;
  height: 0;
}

#island {
  transform: translate(-40%, -50%);
}

q-sprite-img {
  display: inline-block;
  transform: translate(-50%, -50%);
}

.boatheader {
  left: 32px;
  top: -70px;
  transform: translateX(-50%);
}

.flags div {
  display: inline-block;
  height: 13px;
  width: 10px;
  background: url("/assets/images/buoy_symbols.png");
}

.boat {
  width: 64px;
  height: 48px;
  transition: opacity calc(var(--speed) * 1s) linear;
}

.influence {
  box-sizing: content-box;
  position: absolute;
  top: 22px;
  left: 32px;
  min-width: 50px;
  min-height: 50px;
  border: 2px solid lime;
  border-radius: 50%;
  transition: 0.3s;
  transform: translate(-50%, -50%) scaleY(0.75);
  pointer-events: none;
}

.team1 .influence {
  border-color: red;
}
.sameteam .influence {
  border-color: rgb(137, 214, 233);
}

.boattitle {
  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
  white-space: nowrap;
  font-size: 13px;
}

.team0 {
  color: rgb(125, 236, 80);
}
.team1 {
  color: red;
}
.sameteam {
  color: rgb(137, 214, 233);
}
.isme {
  color: rgb(214, 247, 255);
}


@keyframes explode {
  from { background: url("/assets/clutter/hit.png") 0 no-repeat; }
  to { background: url("/assets/clutter/hit.png") -640px no-repeat; }
}
@keyframes splash {
  from { background: url("/assets/clutter/splash_large.png") 0 no-repeat; }
  to { background: url("/assets/clutter/splash_large.png") -520px no-repeat; }
}
@keyframes move { 
  to { transform: translate(var(--tranX,0), var(--tranY,0)); }
}
@keyframes smoke {
  from { background-position-x: 0; }
  to { background-position-x: var(--endX); }
}

.shot.dis1 { --movetime: .3s; --distance: 1; }
.shot.dis2 { --movetime: .5s; --distance: 2; }
.shot.dis3, .shot.dis4 { --movetime: 0.7s; --distance: 3; }

// speed set from html
.shot.double { top: 10px; --delay: calc(var(--speed) * .2s) }
.clutter { z-index: 2000; pointer-events: none; }
.shot, .smoke {
  position: absolute;
  top: 9px;
  left: 12px;
  height: 30px;
  width: 40px;
  background-repeat: no-repeat;
}
.shot {
  background-position: center;
  animation-duration: calc(var(--speed) * var(--movetime)), calc(var(--speed) * .5s);
  animation-delay: var(--delay, 0s), calc(var(--movetime) * var(--speed) + var(--delay, 0s));
  animation-fill-mode: forwards;
  animation-name: move, explode;
  animation-timing-function: linear, steps(16);
}

.size2 .shot { background-image: url("/assets/clutter/cannonball_small.png"); }
.size3 .shot { background-image: url("/assets/clutter/cannonball_medium.png"); }
.size4 .shot { background-image: url("/assets/clutter/cannonball_large.png"); }
.shot.dis4 { animation-name: move, splash !important; animation-timing-function: linear, steps(13); }

.smoke { animation: smoke calc(var(--speed) * 1s) steps(18) both; }
.size2 .smoke { --endX: -720px; background-image: url("/assets/clutter/explode_small.png"); }
.size3 .smoke { --endX: -720px; background-image: url("/assets/clutter/explode_medium.png"); }
.size4 .smoke { --endX: -960px; animation-timing-function: steps(24); background-image: url("/assets/clutter/explode_large.png"); }

.shot.dir0, .shot.dir1 { --tranY: calc(0px - var(--distance) * 24px) }
.shot.dir2, .shot.dir3 { --tranY: calc(var(--distance) * 24px) }
.shot.dir1, .shot.dir2 { --tranX: calc(var(--distance) * 32px) }
.shot.dir0, .shot.dir3 { --tranX: calc(0px - var(--distance) * 32px) }
