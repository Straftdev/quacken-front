<q-twod-render #renderer
               *ngIf="graphicSettings.renderMode.value === 0"
               [hoveredTeam]="hoveredTeam"
               [speed]="graphicSettings.speed.value"
               [fishBoats]="lobbySettings.fishBoats?.value || 0"
               [mapScale]="graphicSettings.mapScale.value"
               [graphicSettings]="graphicSettings"
               [myBoat]="myBoat"></q-twod-render>
<q-threed-render #renderer
                 *ngIf="graphicSettings.renderMode.value === 1"
                 [hoveredTeam]="hoveredTeam"
                 [graphicSettings]="graphicSettings"></q-threed-render>

<q-cade-entry-status (keydown.Tab)="statOpacity = 1"
                     (hoveredTeam)="hoveredTeam = $event"
                     [myTeam]="myBoat.team"></q-cade-entry-status>

<q-stats [style.Opacity]="hoveredTeam !== -1 || statOpacity ? 1 : 0"
         [hoveredTeam]="hoveredTeam"
         [statOpacity]="statOpacity"
         [stats]="lobby?.stats"
         [myTeam]="myBoat.team"></q-stats>
<q-cade-hud [kbControls]="controlSettings.kbControls?.value || 0"></q-cade-hud>

<div [hidden]="!advancedMapOpen"
     id="advancedMap"
     class="container"
     [qDrag]="handle"
     [bindToWindow]="true">
  <div #handle
       class="handle"></div>
  <q-advanced-map [seed]="mapSeed"
                  (seedChange)="updateSeed($event)"></q-advanced-map>

  <button mat-raised-button
          color="accent"
          (click)="advancedMapOpen = false">Done</button>
</div>
