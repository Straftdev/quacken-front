<div #frame class="noselect" id="background" (wheel)="scroll($event)"
	oncontextmenu="event.preventDefault();">
	<!-- mapframe receives the offset transform, map receives the rotate transform.
 	This allows them to be altered independent of each other -->
	<div id="mapframe" [qdrag]="frame">
		<div id="map">
			<div
				[style.transform]="'translateX(' + (-0.5-myBoat.pos[0])*settings.mapScale + 'px)'"
				[style.transition]="1/settings.speed + moveTransitions[myBoat.moveTransition[0]]">
				<div id="maprows" [style.width]="25*settings.mapScale+2 + 'px'"
					[style.transform]="'translateY(' + (-0.5-myBoat.pos[1])*settings.mapScale + 'px)'"
					[style.transition]="1/settings.speed + moveTransitions[myBoat.moveTransition[1]]">
					<div *ngFor="let row of map; let i = index">
						<div *ngFor="let tile of row" class="tile" [class.sztile]="i > 48">
							<img *ngIf="tile" src="./assets/images/obstacle{{tile}}.png"
								[class]="'img' + tile" [title]="titles[tile] || ''">
						</div>
					</div>

					<app-boats [map]="frame" [size]="settings.mapScale"
						[speed]="settings.speed">
					</app-boats>
				</div>
			</div>
		</div>
	</div>
</div>

<app-hud [kbControls]="settings.kbControls"></app-hud>
<app-entry-status></app-entry-status>
